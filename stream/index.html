<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
.grid {
  border: 1px solid red;
  display: grid;
  grid-template-columns: 50% 50%;
  grid-auto-rows: 50vh 50vh;
}

body {
    background-color: #f6e7ba;
}
.item {
  /*border: 1px solid black;*/
    margin: 10px;
}
.item video {display: block; width: 100%; height: 100%; border: none;}
</style>
</head>

<body>

<div class="grid">
  <div class="item"><video id="e" muted="muted"></video></div>
  <div class="item"><video id="t14" muted="muted"></video></div>
  <div class="item"><video id="t15" muted="muted"></video></div>
  <div class="item"><video id="t16" muted="muted"></video></div>
</div>

<script>
    if (Hls.isSupported()) {
 	  console.log("hello hls.js!");
      var video1 = document.getElementById('e');
      var hls1 = new Hls();
      // bind them together
      hls1.attachMedia(video1);
      hls1.on(Hls.Events.MEDIA_ATTACHED, function () {
        console.log("video1 and hls.js are now bound together !");
        hls1.loadSource("http://192.168.254.11:1935/live/t1/playlist.m3u8");
        hls1.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
          console.log("manifest loaded, found " + data.levels.length + " quality level");
            video1.play();
        });
      });
     hls1.on(Hls.Events.ERROR, function (event, data) {
      if (data.fatal) {
        switch(data.type) {
        case Hls.ErrorTypes.NETWORK_ERROR:
        // try to recover network error
            console.log("1 fatal network error encountered, try to recover");
            hls1.startLoad();
            break;
        case Hls.ErrorTypes.MEDIA_ERROR:
            console.log("1 fatal media error encountered, try to recover");
            hls1.recoverMediaError();
            break;
        default:
        // cannot recover
            console.log("1 fatal media error encountered, try to recover");
            hls1.destroy();
            break;
      }
    }
  });
  
      var video2 = document.getElementById('t14');
      var hls2 = new Hls();
      // bind them together
      hls2.attachMedia(video2);
      hls2.on(Hls.Events.MEDIA_ATTACHED, function () {
        console.log("video2 and hls.js are now bound together !");
        hls2.loadSource("http://192.168.254.11:1935/live/t14/playlist.m3u8");
        hls2.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
          console.log("manifest loaded, found " + data.levels.length + " quality level");
            video2.play();
        });
      });
     hls2.on(Hls.Events.ERROR, function (event, data) {
      if (data.fatal) {
        switch(data.type) {
        case Hls.ErrorTypes.NETWORK_ERROR:
        // try to recover network error
            console.log("2 fatal network error encountered, try to recover");
            hls2.startLoad();
            break;
        case Hls.ErrorTypes.MEDIA_ERROR:
            console.log("2 fatal media error encountered, try to recover");
            hls2.recoverMediaError();
            break;
        default:
        // cannot recover
            console.log("2 fatal media error encountered, try to recover");
            hls2.destroy();
            break;
      }
    }
  });
      var video3 = document.getElementById('t15');
      var hls3 = new Hls();
      // bind them together
      hls3.attachMedia(video3);
      hls3.on(Hls.Events.MEDIA_ATTACHED, function () {
        console.log("video4 and hls.js are now bound together !");
        hls3.loadSource("http://192.168.254.11:1935/live/t15/playlist.m3u8");
        hls3.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
          console.log("manifest loaded, found " + data.levels.length + " quality level");
            video3.play();
        });
      });
     hls3.on(Hls.Events.ERROR, function (event, data) {
      if (data.fatal) {
        switch(data.type) {
        case Hls.ErrorTypes.NETWORK_ERROR:
        // try to recover network error
            console.log("3 fatal network error encountered, try to recover");
            hls3.startLoad();
            break;
        case Hls.ErrorTypes.MEDIA_ERROR:
            console.log("3 fatal media error encountered, try to recover");
            hls3.recoverMediaError();
            break;
        default:
        // cannot recover
            console.log("3 fatal media error encountered, try to recover");
            hls3.destroy();
            break;
      }
    }
  });
 
      var video4 = document.getElementById('t16');
      var hls4 = new Hls();
      // bind them together
      hls4.attachMedia(video4);
      hls4.on(Hls.Events.MEDIA_ATTACHED, function () {
        console.log("video4 and hls.js are now bound together !");
        hls4.loadSource("http://192.168.254.11:1935/live/t16/playlist.m3u8");
        hls4.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
          console.log("manifest loaded, found " + data.levels.length + " quality level");
            video4.play();
        });
      });
     hls4.on(Hls.Events.ERROR, function (event, data) {
      if (data.fatal) {
        switch(data.type) {
        case Hls.ErrorTypes.NETWORK_ERROR:
        // try to recover network error
            console.log("4 fatal network error encountered, try to recover");
            hls4.startLoad();
            break;
        case Hls.ErrorTypes.MEDIA_ERROR:
            console.log("4 fatal media error encountered, try to recover");
            hls4.recoverMediaError();
            break;
        default:
        // cannot recover
            console.log("4 fatal media error encountered, try to recover");
            hls4.destroy();
            break;
      }
    }
  });
  
    }
</script>

</body>
</html>
